{"version":3,"file":"feedback-C92WpQzV.js","sources":["../../src/feedback.js"],"sourcesContent":["//tutaj dane fomularza beda przechowywane\nconst localStorageKey = \"feedback-form-state\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\nconst form = document.querySelector(\".feedback-form\");\n\n// Funkcja tworząca formularz\nconst createForm = () => {\n    \n    form.innerHTML = `\n        <label class=\"email-form\">\n            <span class=\"email\">Email</span>\n            <input type=\"email\" name=\"email\" autofocus />\n        </label>\n        <label class=\"message-form\">\n           <span class=\"message\">Message</span>\n            <textarea name=\"message\" rows=\"8\"></textarea>\n        </label>\n        <button type=\"submit\">Submit</button>\n    `;\n};\n\ncreateForm();\n\n// Zdarzenie na input oraz iteracja przez każdy element\nform.addEventListener(\"input\", () => {\n\n    // Przechowywanie wartości pól\n    const formData = {};\n    Array.from(form.elements).forEach(element => {\n        if (element.name) {\n            //sprawdzanie czy element ma atryb. name\n            formData[element.name] = element.value;\n        }\n    });\n    console.log(formData);\n\n    //zapisywanie danych w local storage jako ciąg tekstowy\n    localStorage.setItem(localStorageKey, JSON.stringify(formData));\n});\n\n// Zdarzenie na submit\nform.addEventListener(\"submit\", e => {\n    e.preventDefault();\n\n    //pobieranie wartości pól email i message\n    const email = form.querySelector('input[name=\"email\"]').value;\n    const message = form.querySelector('textarea[name=\"message\"]').value;\n\n    let isValid = true;\n\n    // sprawdzamy czy pole emaila jest puste\n    if (!email) {\n        isValid = false;\n        console.log('Please enter your email address');\n    } \n    //sprawdzamy poprawnosc maila\n    else if (!validateEmail(email)) {\n        isValid = false;\n        console.log('Please enter a valid email address.');\n    }\n\n    // sprawdzamy czy pole message jest puste\n    if (!message) {\n        isValid = false;\n        console.log('Please enter your message');\n    }\n\n    //sprawdzanie czy zmienna isValid dalej pozosotala true\n    if (isValid) {\n        localStorage.removeItem(localStorageKey);\n        form.reset();\n        console.log('Form submitted successfully.');\n    }\n});\n\n//na sam koniec funkcja walidująca email czy ma on poprawny format\nfunction validateEmail(email) {\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return re.test(email);\n};\n});"],"names":["localStorageKey","form","formData","element","e","email","message","isValid","validateEmail"],"mappings":"AACA,MAAMA,EAAkB,sBAExB,SAAS,iBAAiB,mBAAoB,IAAM,CACpD,MAAMC,EAAO,SAAS,cAAc,gBAAgB,GAGjC,IAAM,CAErBA,EAAK,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWrB,KAKAA,EAAK,iBAAiB,QAAS,IAAM,CAGjC,MAAMC,EAAW,CAAA,EACjB,MAAM,KAAKD,EAAK,QAAQ,EAAE,QAAQE,GAAW,CACrCA,EAAQ,OAERD,EAASC,EAAQ,IAAI,EAAIA,EAAQ,MAE7C,CAAK,EACD,QAAQ,IAAID,CAAQ,EAGpB,aAAa,QAAQF,EAAiB,KAAK,UAAUE,CAAQ,CAAC,CAClE,CAAC,EAGDD,EAAK,iBAAiB,SAAUG,GAAK,CACjCA,EAAE,eAAc,EAGhB,MAAMC,EAAQJ,EAAK,cAAc,qBAAqB,EAAE,MAClDK,EAAUL,EAAK,cAAc,0BAA0B,EAAE,MAE/D,IAAIM,EAAU,GAGTF,EAKKG,EAAcH,CAAK,IACzBE,EAAU,GACV,QAAQ,IAAI,qCAAqC,IANjDA,EAAU,GACV,QAAQ,IAAI,iCAAiC,GAS5CD,IACDC,EAAU,GACV,QAAQ,IAAI,2BAA2B,GAIvCA,IACA,aAAa,WAAWP,CAAe,EACvCC,EAAK,MAAK,EACV,QAAQ,IAAI,8BAA8B,EAElD,CAAC,EAGD,SAASO,EAAcH,EAAO,CAE1B,MADW,6BACD,KAAKA,CAAK,CACxB,CACA,CAAC"}